# Docker 환경 설정
spring:
  application:
    name: smw
  profiles:
    active: docker
  batch:
    job:
      enabled: true
  datasource:
    driver-class-name: net.sf.log4jdbc.sql.jdbcapi.DriverSpy
    url: jdbc:log4jdbc:postgresql://postgres:5432/smw_db
    hikari:
      username: ${SPRING_DATASOURCE_USERNAME:smw_user}
      password: ${SPRING_DATASOURCE_PASSWORD:smw_password}
      maximum-pool-size: 5
      minimum-idle: 2
      idle-timeout: 30000
      max-lifetime: 1800000
      connection-timeout: 30000
  servlet:
    multipart.max-file-size: 20MB
    max-request-size: 25MB
  mail:
    enabled: true
    host: smtp.gmail.com
    port: 587
    username: ${MAIL_USERNAME:jgh9514@gmail.com}
    password: ${MAIL_PASSWORD:dkpgthimeykzielq}
    from: ${MAIL_FROM:jgh9514@gmail.com}
    properties:
      mail:
        smtp:
          auth: true
          starttls:
            enable: true
            required: true
          connectiontimeout: 10000
          timeout: 10000
          writetimeout: 10000
          ssl:
            trust: "*"
          enable: true
        debug: false
  jpa:
    properties:
      hibernate:
        show_sql: false
        format_sql: true
        use_sql_comments: true
        type: trace
        dialect: org.hibernate.dialect.PostgreSQL95Dialect
        log:
          use_sql_comments: true

mybatis:
  type-aliases-package: com.summonerswar
  config-location: classpath:mybatis/mybatis-config.xml
  mapper-locations: classpath*:com/**/mapper/xml/*.xml

server:
  port: 8080
  tomcat:
    min-spare-threads: 40
  servlet:
    session:
      timeout: 3600
      cookie:
        http-only: true

logging:
  level:
    org.springframework.boot.autoconfigure: WARN
    org.springframework.boot.autoconfigure.condition: WARN
    org.springframework.boot: WARN
    org.springframework.web: WARN
    org.springframework.orm: WARN
    org.springframework.transaction: WARN
    org.springframework.security: WARN
    org.hibernate: WARN
    org.hibernate.SQL: WARN
    org.hibernate.type.descriptor.sql.BasicBinder: WARN
    jdbc.sqlonly: WARN
    jdbc.sqltiming: WARN
    com.sysconf.interceptor: INFO

smw:
  service-domain: localhost, localhost:3000
  globalDblinkNm: SMW_DBLINK
  front-url: http://localhost:3000
  server-url: http://localhost:8080
  cookie-live-time: 600
  cookie-domain: localhost
  rate-limit:
    max-requests: 100
    window-seconds: 60

